<table
  mat-table
  [dataSource]="dataSource"
  class="mat-elevation-z8 table table-bordered"
  *ngIf="tableList.length != 0; else noData"
>
  <!-- <ng-container *ngIf="tableList.length"> -->
  <ng-container matColumnDef="position">
    <th mat-header-cell *matHeaderCellDef style="color: white">No.</th>
    <td mat-cell *matCellDef="let element; let i = index">{{ i + 1 }}</td>
  </ng-container>
  <ng-container *ngFor="let column of tableConfiguration.tableColumns">
    <ng-container matColumnDef="{{ column?.name }}">
      <th mat-header-cell *matHeaderCellDef style="color: white">
        {{ column?.label }}
      </th>
      <td mat-cell *matCellDef="let element">{{ element[column?.name] }}</td>
    </ng-container>
  </ng-container>
  <ng-container matColumnDef="actions" *ngIf="showActions">
    <th mat-header-cell *matHeaderCellDef style="color: white">Actions</th>
    <td mat-cell *matCellDef="let element; let i = index" style="text-align: right;" @fadeIn>
      <span
        *ngIf="tableConfiguration?.actionButtons?.edit || element['actionButtons']['edit']"
        ><button mat-icon-button title="Edit" (click)="updateItem(element['id'])"><mat-icon>edit</mat-icon></button></span
      >
      <span *ngIf="tableConfiguration?.actionButtons?.delete || element['actionButtons']['delete']"><button mat-icon-button title="Delete" (click)="deleteItem(element['id'])"><mat-icon style="color: red;">delete</mat-icon></button></span>
      <span *ngIf="tableConfiguration?.actionButtons?.view || element['actionButtons']['view']"><button mat-icon-button title="View" (click)="viewItem(element['id'])"><mat-icon>visibility_on</mat-icon></button></span>
    </td>
  </ng-container>
  <tr
    mat-header-row
    *matHeaderRowDef="displayedColumns"
    class="table-header"
  ></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  <!-- </ng-container> -->
</table>
<ng-template #noData>
  <table
    mat-table
    [trackBy]="trackByFn"
    [dataSource]="dataSource"
    matSort
    class="mat-elevation-z2 table"
  >
    <!-- Number Column -->
    <ng-container matColumnDef="position">
      <th
        mat-header-cell
        *matHeaderCellDef
        mat-sort-header
        style="color: white"
      >
        No
      </th>
      <td mat-cell *matCellDef="let element; let i = index">{{ i + 1 }}</td>
    </ng-container>

    <!-- Position Column -->
    <ng-container
      *ngFor="let column of tableConfiguration.tableColumns"
      matColumnDef="{{ column?.name }}"
    >
      <th
        mat-header-cell
        *matHeaderCellDef
        mat-sort-header
        style="color: white; text-align: center; font-weight: bold"
      >
        {{ column?.label }}
      </th>
      <td mat-cell *matCellDef="let element">{{ element[column?.name] }}</td>
    </ng-container>
    <!-- Disclaimer column -->
    <ng-container matColumnDef="disclaimer">
      <td
        mat-footer-cell
        *matFooterCellDef
        [attr.colspan]="displayedColumns.length"
      >
        <h5 class="text-center text-muted pt-1" *ngIf="!loading">
          {{ tableConfiguration.empty_msg || "No data" }}
        </h5>
      </td>
    </ng-container>

    <tr
      mat-header-row
      *matHeaderRowDef="displayedColumns"
      class="table-header"
    ></tr>
    <tr
      mat-row
      *matRowDef="let row; columns: displayedColumns"
      [ngClass]="routeAnimationsElements"
      class="table-data"
    ></tr>

    <tr
      mat-footer-row
      *matFooterRowDef="['disclaimer']"
      class="example-second-footer-row"
    ></tr>
  </table>
</ng-template>
